(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,n,t){e.exports={board:"board_board__5xYAb",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",one:"board_one__2ke9C",two:"board_two__1RWiR",three:"board_three__1pjLR",four:"board_four__GV_vy",five:"board_five__1mnPE",six:"board_six__2Ur0s",seven:"board_seven__2Vm-w",internSquare:"board_internSquare__3Bn7h"}},,,,,,,,function(e,n,t){e.exports=t(16)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(7),c=t.n(o),u=(t(14),t(15),t(2)),i=t(5),s=t(8),l=t.n(s),f=["I","J","L","O","S","T","Z"],d={I:[[1,1,1,1]],J:[[2,0,0],[2,2,2]],L:[[0,0,3],[3,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0]],T:[[0,6,0],[6,6,6]],Z:[[7,7,0],[0,7,7]]},b={I:{x:3,y:-1},J:{x:3,y:-1},L:{x:3,y:-1},O:{x:4,y:-1},S:{x:3,y:-1},T:{x:3,y:-1},Z:{x:3,y:-1}};function m(e,n){return new Array(n).fill(new Array(e)).map((function(e){return e.fill(0)}))}function v(){return f[Math.floor(Math.random()*Math.floor(f.length))]}function h(e,n,t,r,a){return r>=n&&r<n+e[0].length&&a>=t&&a<t+e.length?e[a-t][r-n]:0}function w(e,n,t,r){return t<0||n.some((function(n,a){return r+a>=e.length||n.some((function(n,o){return n>0&&(!(t+o<e[0].length)||r+a>=0&&e[r+a][t+o]+n>n)}))}))}function _(e,n,t,r){var a=e.length,o=e.map((function(e,a){return e.map((function(e,o){return e+h(n,t,r,o,a)}))})).filter((function(e){return e.some((function(e){return 0===e}))}));return o.splice.apply(o,[0,0].concat(Object(i.a)(m(e[0].length,a-o.length)))),o}var p=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.join(" ")},k=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n-e+1;return Array.from({length:t},(function(n,t){return e+t}))},y=t(1),O=t.n(y),j=["none","one","two","three","four","five","six","seven"];var g=a.a.memo((function(e){var n=e.value;return a.a.createElement("div",{className:p(O.a.square,O.a[j[n]])},a.a.createElement("div",{className:p(O.a.internSquare,O.a[j[n]])}))}));function x(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=Object(r.useState)((function(){return m(e,n)})),a=Object(u.a)(t,2),o=a[0],c=a[1],s=Object(r.useState)(v),f=Object(u.a)(s,2),p=f[0],k=f[1],y=Object(r.useState)(v),O=Object(u.a)(y,2),j=O[0],g=O[1],x=Object(r.useState)(b[p].x),E=Object(u.a)(x,2),S=E[0],A=E[1],L=Object(r.useState)(b[p].y),C=Object(u.a)(L,2),N=C[0],I=C[1],R=Object(r.useState)(d[p]),q=Object(u.a)(R,2),T=q[0],B=q[1],J=Object(r.useCallback)((function(e,n){return h(T,S,N,e,n)}),[S,N,T]),M=Object(r.useCallback)((function(){B(d[j]),A(b[j].x),I(b[j].y),k(j),g(v())}),[j]),W=Object(r.useCallback)((function(){var e=l.a.apply(void 0,Object(i.a)(T)).reverse();w(o,e,S,N)||B(e)}),[o,T,S,N]),D=Object(r.useCallback)((function(){return A((function(e){return w(o,T,e-1,N)?e:e-1}))}),[o,T,N]),U=Object(r.useCallback)((function(){return A((function(e){return w(o,T,e+1,N)?e:e+1}))}),[o,T,N]),Z=Object(r.useCallback)((function(){return I((function(e){return w(o,T,S,e+1)?(c((function(n){return _(n,T,S,e)})),M(),e):e+1}))}),[o,T,S,M]);return{board:o,currentTetromino:p,nextTetromino:j,isInCurrentShape:J,next:M,rotate:W,left:D,right:U,down:Z}}(e.width,e.height),t=n.board,o=n.nextTetromino,c=n.isInCurrentShape,s=n.rotate,f=n.down,y=n.left,j=n.right,x=n.next,E=Object(r.useMemo)((function(){return d[o]}),[o]);return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},a=Object(r.useRef)(e);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=function(e){n.includes(e.code)&&a.current(e)},r=function(e){n.includes(e.code)&&a.current(e)};return t.keydown&&window.addEventListener("keydown",e),t.keyup&&window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[a,n,t.keyup,t.keydown])}((function(e){switch(e.code){case"ArrowUp":s();break;case"ArrowDown":f();break;case"ArrowLeft":y();break;case"ArrowRight":j();break;case"Space":x()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"]),function(e,n){var t=Object(r.useRef)(e);Object(r.useEffect)((function(){t.current=e}),[e]),Object(r.useEffect)((function(){var e=setInterval((function(){return t.current()}),n);return function(){return clearInterval(e)}}),[t,n])}(f,1e3),a.a.createElement("div",{className:p(O.a.board)},a.a.createElement("div",{className:p(O.a.lines)},t.map((function(e,n){return a.a.createElement("div",{key:n,className:p(O.a.blockLine)},e.map((function(e,t){return a.a.createElement(g,{value:e||c(t,n)})})))}))),a.a.createElement("div",{className:p(O.a.next)},"Next Block",a.a.createElement("div",{className:p(O.a.lines)},k(1,4).map((function(e){return a.a.createElement("div",{key:e,className:p(O.a.blockLine)},k(1,6).map((function(n){return a.a.createElement(g,{value:h(E,2,2,n,e)})})))})))))}var E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(x,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.8c48c2b1.chunk.js.map