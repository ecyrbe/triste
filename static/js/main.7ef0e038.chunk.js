(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,t,n){e.exports={board:"board_board__5xYAb",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",active:"board_active__q1ayM",inactive:"board_inactive__zhFB5",internSquare:"board_internSquare__3Bn7h"}},,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),i=(n(14),n(15),n(2)),u=n(5),l=n(8),s=n.n(l),f=["I","J","L","O","S","T","Z"],d={I:[[1,1,1,1]],J:[[1,0,0],[1,1,1]],L:[[0,0,1],[1,1,1]],O:[[1,1],[1,1]],S:[[0,1,1],[1,1,0]],T:[[0,1,0],[1,1,1]],Z:[[1,1,0],[0,1,1]]},b={I:{x:3,y:-1},J:{x:3,y:-1},L:{x:3,y:-1},O:{x:4,y:-1},S:{x:3,y:-1},T:{x:3,y:-1},Z:{x:3,y:-1}};function v(e,t){return new Array(t).fill(new Array(e)).map((function(e){return e.fill(0)}))}function m(){return f[Math.floor(Math.random()*Math.floor(f.length))]}function h(e,t,n,r,a){return r>=t&&r<t+e[0].length&&a>=n&&a<n+e.length&&e[a-n][r-t]>0}function w(e,t,n,r){return n<0||t.some((function(t,a){return r+a>=e.length||t.some((function(t,c){return!(n+c<e[0].length)||r+a>=0&&e[r+a][n+c]+t>1}))}))}function p(e,t,n,r){var a=e.length,c=e.map((function(e,a){return e.map((function(e,c){return h(t,n,r,c,a)?e+1:e}))})).filter((function(e){return e.some((function(e){return 0===e}))}));return c.splice.apply(c,[0,0].concat(Object(u.a)(v(e[0].length,a-c.length)))),c}var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},O=n(1),j=n.n(O);var g=a.a.memo((function(e){var t=e.active;return a.a.createElement("div",{className:k(j.a.square,t?j.a.active:j.a.inactive)},a.a.createElement("div",{className:k(j.a.internSquare,t?j.a.active:j.a.inactive)}))}));function _(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=Object(r.useState)((function(){return v(e,t)})),a=Object(i.a)(n,2),c=a[0],o=a[1],l=Object(r.useState)(m),f=Object(i.a)(l,2),k=f[0],y=f[1],O=Object(r.useState)(m),j=Object(i.a)(O,2),g=j[0],_=j[1],E=Object(r.useState)(b[k].x),x=Object(i.a)(E,2),S=x[0],A=x[1],L=Object(r.useState)(b[k].y),N=Object(i.a)(L,2),C=N[0],I=N[1],q=Object(r.useState)(d[k]),M=Object(i.a)(q,2),T=M[0],B=M[1],J=Object(r.useCallback)((function(e,t){return h(T,S,C,e,t)}),[S,C,T]),R=Object(r.useCallback)((function(){B(d[g]),A(b[g].x),I(b[g].y),y(g),_(m())}),[g]),D=Object(r.useCallback)((function(){var e=s.a.apply(void 0,Object(u.a)(T)).reverse();w(c,e,S,C)||B(e)}),[c,T,S,C]),W=Object(r.useCallback)((function(){return A((function(e){return w(c,T,e-1,C)?e:e-1}))}),[c,T,C]),Z=Object(r.useCallback)((function(){return A((function(e){return w(c,T,e+1,C)?e:e+1}))}),[c,T,C]),z=Object(r.useCallback)((function(){return I((function(e){return w(c,T,S,e+1)?(o((function(t){return p(t,T,S,e)})),R(),e):e+1}))}),[c,T,S,R]);return{board:c,currentTetromino:k,nextTetromino:g,isInCurrentShape:J,next:R,rotate:D,left:W,right:Z,down:z}}(e.width,e.height),n=t.board,c=t.nextTetromino,o=t.isInCurrentShape,l=t.rotate,f=t.down,O=t.left,_=t.right,E=t.next,x=Object(r.useMemo)((function(){return d[c]}),[c]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},a=Object(r.useRef)(e);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=function(e){t.includes(e.code)&&a.current(e)},r=function(e){t.includes(e.code)&&a.current(e)};return n.keydown&&window.addEventListener("keydown",e),n.keyup&&window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[a,t,n.keyup,n.keydown])}((function(e){switch(e.code){case"ArrowUp":l();break;case"ArrowDown":f();break;case"ArrowLeft":O();break;case"ArrowRight":_();break;case"Space":E()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"]),function(e,t){var n=Object(r.useRef)(e);Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}),[n,t])}(f,1e3),a.a.createElement("div",{className:k(j.a.board)},a.a.createElement("div",{className:k(j.a.lines)},n.map((function(e,t){return a.a.createElement("div",{key:t,className:k(j.a.blockLine)},e.map((function(e,n){return a.a.createElement(g,{active:e>0||o(n,t)})})))}))),a.a.createElement("div",{className:k(j.a.next)},"Next Block",a.a.createElement("div",{className:k(j.a.lines)},y(1,4).map((function(e){return a.a.createElement("div",{key:e,className:k(j.a.blockLine)},y(1,6).map((function(t){return a.a.createElement(g,{active:h(x,2,2,t,e)})})))})))))}var E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(_,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.7ef0e038.chunk.js.map