(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,t,n){e.exports={game:"board_game__133qm",over:"board_over__ZBIGv",paused:"board_paused__22pYZ",running:"board_running__3HKDn",board:"board_board__5xYAb",border:"board_border__3Hrc3",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",I:"board_I__v5VWo",J:"board_J__333YF",L:"board_L__3tq8V",O:"board_O__1CzkM",S:"board_S__2T1KA",T:"board_T__-Esw_",Z:"board_Z__2VCFE",internSquare:"board_internSquare__3Bn7h",commands:"board_commands__2BLja",descriptions:"board_descriptions__1dhGE",instructions:"board_instructions__E5mVe",scores:"board_scores__2Bjqx",values:"board_values__1lHjc"}},,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(6),u=n.n(c),l=(n(13),n(14),n(1)),i=n.n(l),s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},f=["I","J","L","O","S","T","Z"],m={I:[[[0,0,0,0],[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]],[[0,0,0,0],[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],J:[[[2,0,0],[2,2,2]],[[0,2,2],[0,2,0],[0,2,0]],[[0,0,0],[2,2,2],[0,0,2]],[[0,2],[0,2],[2,2]]],L:[[[0,0,3],[3,3,3]],[[0,3,0],[0,3,0],[0,3,3]],[[0,0,0],[3,3,3],[3,0,0]],[[3,3],[0,3],[0,3]]],O:[[[0,4,4],[0,4,4]]],S:[[[0,5,5],[5,5,0]],[[0,5,0],[0,5,5],[0,0,5]],[[0,0,0],[0,5,5],[5,5,0]],[[5,0],[5,5],[0,5]]],T:[[[0,6,0],[6,6,6]],[[0,6,0],[0,6,6],[0,6,0]],[[0,0,0],[6,6,6],[0,6,0]],[[0,6],[6,6],[0,6]]],Z:[[[7,7,0],[0,7,7]],[[0,0,7],[0,7,7],[0,7,0]],[[0,0,0],[7,7,0],[0,7,7]],[[0,7],[7,7],[7,0]]]},v={I:{x:3,y:-2},J:{x:3,y:-2},L:{x:3,y:-2},O:{x:3,y:-2},S:{x:3,y:-2},T:{x:3,y:-2},Z:{x:3,y:-2}};function b(){return f[Math.floor(Math.random()*Math.floor(f.length))]}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Up;return m[e][t]}!function(e){e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Left=3]="Left"}(a||(a={}));var h=n(7);function g(e,t){return new Array(t).fill(new Array(e)).map((function(e){return e.fill(0)}))}function p(e,t,n,a,r){return a>=t&&a<t+e[0].length&&r>=n&&r<n+e.length?e[r-n][a-t]:0}function E(e,t,n,a){return t.some((function(t,r){return t.some((function(t,o){return t>0&&a+r>=0&&(void 0===e[a+r]||void 0===e[a+r][n+o]||e[a+r][n+o]>0)}))}))}function O(e,t,n,a){return e.map((function(e,r){return e.map((function(e,o){return e+p(t,n,a,o,r)}))}))}function j(e){var t=e.length,n=e.filter((function(e){return e.some((function(e){return 0===e}))})),a=t-n.length;return a>0?(n.splice.apply(n,[0,0].concat(Object(h.a)(g(e[0].length,t-n.length)))),{board:n,cleared:a}):{board:e,cleared:a}}var w=["none","I","J","L","O","S","T","Z"];var k=o.a.memo((function(e){var t=e.value;return o.a.createElement("div",{className:s(i.a.square,i.a[w[t]])},o.a.createElement("div",{className:s(i.a.internSquare,i.a[w[t]])}))})),y=n(2);function M(e,t){var n=Object(r.useRef)(e);Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}),[n,t])}var S,x=[Math.floor(53e3/60),Math.floor(49e3/60),Math.floor(750),Math.floor(41e3/60),Math.floor(37e3/60),Math.floor(550),Math.floor(28e3/60),Math.floor(22e3/60),Math.floor(17e3/60),Math.floor(11e3/60),Math.floor(1e4/60),Math.floor(150),Math.floor(8e3/60),Math.floor(7e3/60),Math.floor(100),Math.floor(100),Math.floor(5e3/60),Math.floor(5e3/60),Math.floor(4e3/60),Math.floor(4e3/60),Math.floor(50),Math.floor(2e3/60),Math.floor(1e3/60)],L=[0,40,100,300,1200];function N(){var e=Object(r.useState)(0),t=Object(y.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(0),c=Object(y.a)(o,2),u=c[0],l=c[1],i=Object(r.useState)(0),s=Object(y.a)(i,2),d=s[0],f=s[1],m=Object(r.useState)(x[0]),v=Object(y.a)(m,2),b=v[0],_=v[1],h=Object(r.useCallback)((function(e){var t=n+e,r=Math.floor(t/10),o=x[r];a(t),f(r),_(o),l((function(t){return t+(r+1)*L[e]}))}),[n]),g=Object(r.useCallback)((function(){a(0),f(0),_(x[0]),l(0)}),[]);return{lines:n,score:u,level:d,rate:b,updateScore:h,resetScore:g}}!function(e){e[e.running=0]="running",e[e.paused=1]="paused",e[e.gameover=2]="gameover"}(S||(S={}));var A=o.a.memo((function(e){var t=e.lines,n=e.level,a=e.score;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.descriptions},"Stats"),o.a.createElement("div",{className:s(i.a.scores,i.a.border)},o.a.createElement("div",{className:i.a.descriptions},o.a.createElement("div",null,"Lines:"),o.a.createElement("div",null,"Level:"),o.a.createElement("div",null,"Score:")),o.a.createElement("div",{className:i.a.values},o.a.createElement("div",null,t),o.a.createElement("div",null,n),o.a.createElement("div",null,a))))}));var C=o.a.memo((function(e){var t=e.computeColor;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.descriptions},"Next"),o.a.createElement("div",{className:s(i.a.lines,i.a.border)},d(1,4).map((function(e){return o.a.createElement("div",{key:e,className:s(i.a.blockLine)},d(1,6).map((function(n){return o.a.createElement(k,{key:n,value:t(n,e)})})))}))))}));var T=o.a.memo((function(){return o.a.createElement("div",{className:i.a.commands},o.a.createElement("div",{className:i.a.descriptions},o.a.createElement("div",null,"\u2191"),o.a.createElement("div",null,"\u2190\u2193\u2192"),o.a.createElement("div",null,"escape"),o.a.createElement("div",null,"enter")),o.a.createElement("div",{className:i.a.instructions},o.a.createElement("div",null," Rotate"),o.a.createElement("div",null," Move"),o.a.createElement("div",null," Play/Pause game"),o.a.createElement("div",null," Restart game")))}));function I(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=Object(r.useState)(S.paused),o=Object(y.a)(n,2),c=o[0],u=o[1],l=Object(r.useState)((function(){return g(e,t)})),i=Object(y.a)(l,2),s=i[0],d=i[1],f=Object(r.useState)(b),m=Object(y.a)(f,2),h=m[0],p=m[1],w=Object(r.useState)(b),k=Object(y.a)(w,2),x=k[0],L=k[1],A=Object(r.useState)(v[h].x),C=Object(y.a)(A,2),T=C[0],I=C[1],q=Object(r.useState)(v[h].y),J=Object(y.a)(q,2),R=J[0],Z=J[1],B=Object(r.useState)(a.Up),D=Object(y.a)(B,2),P=D[0],U=D[1],Y=Object(r.useState)(-1),F=Object(y.a)(Y,2),V=F[0],W=F[1],G=N(),H=G.lines,K=G.level,X=G.score,z=G.rate,$=G.updateScore,Q=G.resetScore,ee=function(){return u((function(e){return e===S.gameover?e:e===S.paused?S.running:S.paused}))},te=Object(r.useCallback)((function(){L((function(e){return U(0),I(v[e].x),Z(v[e].y),p(e),b()})),Q(),d(g(e,t)),u(S.running)}),[e,t,Q]),ne=Object(r.useCallback)((function(){c===S.running&&L((function(e){return U(0),I(v[e].x),Z(v[e].y),p(e),b()}))}),[c]),ae=Object(r.useCallback)((function(){c===S.running&&U((function(e){var t=(e+1)%4,n=_(h,t);return E(s,n,T,R)?e:t}))}),[c,s,h,T,R]),re=Object(r.useCallback)((function(){c===S.running&&I((function(e){return E(s,_(h,P),e-1,R)?e:e-1}))}),[c,s,h,P,R]),oe=Object(r.useCallback)((function(){c===S.running&&I((function(e){return E(s,_(h,P),e+1,R)?e:e+1}))}),[c,s,h,P,R]),ce=Object(r.useCallback)((function(){c===S.running&&W(R+1)}),[c,R]);return Object(r.useEffect)((function(){if(V===R+1)if(E(s,_(h,P),T,V)){var e=j(O(s,_(h,P),T,R)),t=e.board,n=e.cleared;t[0].some((function(e){return e>0}))?u(S.gameover):(d(t),n&&$(n),ne())}else Z(V)}),[s,h,P,T,R,V,ne,$]),M((function(){c===S.running&&ce()}),z),{lines:H,level:K,score:X,state:c,board:s,currentTetromino:h,nextTetromino:x,posX:T,posY:R,rotation:P,next:ne,rotate:ae,left:re,right:oe,down:ce,togglePause:ee,reset:te}}(e.width,e.height),n=t.state,c=t.board,u=t.lines,l=t.level,d=t.score,f=t.currentTetromino,m=t.nextTetromino,h=t.posX,w=t.posY,x=t.rotation,L=t.rotate,I=t.down,q=t.left,J=t.right,R=t.next,Z=t.togglePause,B=t.reset,D=Object(r.useMemo)((function(){return _(m)}),[m]),P=Object(r.useMemo)((function(){return _(f,x)}),[f,x]),U=Object(r.useCallback)((function(e,t){return p(D,2,2,e,t)}),[D]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},a=Object(r.useRef)(e);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=function(e){t.includes(e.code)&&a.current(e)},r=function(e){t.includes(e.code)&&a.current(e)};return n.keydown&&window.addEventListener("keydown",e),n.keyup&&window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[a,t,n.keyup,n.keydown])}((function(e){switch(e.code){case"ArrowUp":L();break;case"ArrowDown":I();break;case"ArrowLeft":q();break;case"ArrowRight":J();break;case"Space":R();break;case"Escape":Z();break;case"Enter":B()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape","Enter"]),o.a.createElement("div",{className:s(i.a.board)},o.a.createElement(T,null),o.a.createElement("div",{className:s(i.a.game,n===S.paused?i.a.paused:n===S.gameover?i.a.over:i.a.running)},n===S.paused?"Paused":n===S.gameover?"Game Over":"Playing",o.a.createElement("div",{className:s(i.a.lines,i.a.border)},c.map((function(e,t){return o.a.createElement("div",{key:t,className:s(i.a.blockLine)},e.map((function(e,a){var r=n===S.gameover?1:e||p(P,h,w,a,t);return o.a.createElement(k,{value:r,key:"Cell-".concat(a).concat(t).concat(r)})})))})))),o.a.createElement("div",{className:s(i.a.next)},o.a.createElement(A,{lines:u,level:l,score:d}),o.a.createElement(C,{computeColor:U})))}var q=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(I,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.d2a59ce8.chunk.js.map