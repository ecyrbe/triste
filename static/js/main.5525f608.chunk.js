(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,n,t){e.exports={game:"board_game__133qm",board:"board_board__5xYAb",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",I:"board_I__v5VWo",J:"board_J__333YF",L:"board_L__3tq8V",O:"board_O__1CzkM",S:"board_S__2T1KA",T:"board_T__-Esw_",Z:"board_Z__2VCFE",internSquare:"board_internSquare__3Bn7h",commands:"board_commands__2BLja",descriptions:"board_descriptions__1dhGE",instructions:"board_instructions__E5mVe"}},,,,,,,function(e,n,t){e.exports=t(15)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(6),c=t.n(o),u=(t(13),t(14),t(2)),i=t(7);function s(e,n){var t=Object(a.useRef)(e);Object(a.useEffect)((function(){t.current=e}),[e]),Object(a.useEffect)((function(){var e=setInterval((function(){return t.current()}),n);return function(){return clearInterval(e)}}),[t,n])}var l,d=["I","J","L","O","S","T","Z"],m={I:[[[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]],[[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]]],J:[[[2,0,0],[2,2,2]],[[0,2],[0,2],[2,2]],[[2,2,2],[0,0,2]],[[2,2],[2,0],[2,0]]],L:[[[0,0,3],[3,3,3]],[[3,3],[0,3],[0,3]],[[3,3,3],[3,0,0]],[[3,0],[3,0],[3,3]]],O:[[[4,4],[4,4]]],S:[[[0,5,5],[5,5,0]],[[5,0],[5,5],[0,5]]],T:[[[0,6,0],[6,6,6]],[[0,6],[6,6],[0,6]],[[6,6,6],[0,6,0]],[[0,6,0],[0,6,6],[0,6,0]]],Z:[[[7,7,0],[0,7,7]],[[0,7],[7,7],[7,0]]]},f={I:{x:3,y:-1},J:{x:4,y:-1},L:{x:4,y:-1},O:{x:4,y:-1},S:{x:4,y:-1},T:{x:4,y:-1},Z:{x:4,y:-1}};function v(e,n){return new Array(n).fill(new Array(e)).map((function(e){return e.fill(0)}))}function b(){return d[Math.floor(Math.random()*Math.floor(d.length))]}function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return m[e][n]}function g(e,n,t,a,r){return a>=n&&a<n+e[0].length&&r>=t&&r<t+e.length?e[r-t][a-n]:0}function p(e,n,t,a){return n.some((function(n,r){return n.some((function(n,o){return n>0&&a+r>=0&&(void 0===e[a+r]||void 0===e[a+r][t+o]||e[a+r][t+o]>0)}))}))}function E(e,n,t,a){var r=e.length,o=e.map((function(e,r){return e.map((function(e,o){return e+g(n,t,a,o,r)}))})).filter((function(e){return e.some((function(e){return 0===e}))}));return o.splice.apply(o,[0,0].concat(Object(i.a)(v(e[0].length,r-o.length)))),o}!function(e){e[e.running=0]="running",e[e.paused=1]="paused",e[e.gameover=2]="gameover"}(l||(l={}));var h=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.join(" ")},w=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n-e+1;return Array.from({length:t},(function(n,t){return e+t}))},O=t(1),k=t.n(O),j=["none","I","J","L","O","S","T","Z"];var y=r.a.memo((function(e){var n=e.value;return r.a.createElement("div",{className:h(k.a.square,k.a[j[n]])},r.a.createElement("div",{className:h(k.a.internSquare,k.a[j[n]])}))}));function x(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=Object(a.useState)(l.paused),r=Object(u.a)(t,2),o=r[0],c=r[1],i=Object(a.useState)((function(){return v(e,n)})),d=Object(u.a)(i,2),_=d[0],g=d[1],h=Object(a.useState)(b),w=Object(u.a)(h,2),O=w[0],k=w[1],j=Object(a.useState)(b),y=Object(u.a)(j,2),x=y[0],S=y[1],L=Object(a.useState)(f[O].x),A=Object(u.a)(L,2),N=A[0],C=A[1],T=Object(a.useState)(f[O].y),I=Object(u.a)(T,2),q=I[0],J=I[1],M=Object(a.useState)(0),B=Object(u.a)(M,2),P=B[0],R=B[1],Z=Object(a.useState)(-1),Y=Object(u.a)(Z,2),V=Y[0],W=Y[1],D=function(){return c((function(e){return e===l.gameover?e:e===l.paused?l.running:l.paused}))},X=Object(a.useCallback)((function(){S((function(e){return R(0),C(f[e].x),J(f[e].y),k(e),b()})),g(v(e,n)),c(l.running)}),[e,n]),z=Object(a.useCallback)((function(){o===l.running&&S((function(e){return R(0),C(f[e].x),J(f[e].y),k(e),b()}))}),[o]),F=Object(a.useCallback)((function(){o===l.running&&R((function(e){var n=(e+1)%m[O].length,t=m[O][n];return p(_,t,N,q)?e:n}))}),[o,_,O,N,q]),G=Object(a.useCallback)((function(){o===l.running&&C((function(e){return p(_,m[O][P],e-1,q)?e:e-1}))}),[o,_,O,P,q]),K=Object(a.useCallback)((function(){o===l.running&&C((function(e){return p(_,m[O][P],e+1,q)?e:e+1}))}),[o,_,O,P,q]),U=Object(a.useCallback)((function(){o===l.running&&W(q+1)}),[o,q]);return Object(a.useEffect)((function(){if(V===q+1)if(p(_,m[O][P],N,V)){var e=E(_,m[O][P],N,q);e[0].some((function(e){return e>0}))?c(l.gameover):(g(e),z())}else J(V)}),[_,O,P,N,q,V,z]),s((function(){o===l.running&&U()}),1e3),{state:o,board:_,currentTetromino:O,nextTetromino:x,posX:N,posY:q,rotation:P,next:z,rotate:F,left:G,right:K,down:U,togglePause:D,reset:X}}(e.width,e.height),t=n.state,o=n.board,c=n.currentTetromino,i=n.nextTetromino,d=n.posX,O=n.posY,j=n.rotation,x=n.rotate,S=n.down,L=n.left,A=n.right,N=n.next,C=n.togglePause,T=n.reset,I=Object(a.useMemo)((function(){return _(i)}),[i]),q=Object(a.useMemo)((function(){return _(c,j)}),[c,j]);return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},r=Object(a.useRef)(e);Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){var e=function(e){n.includes(e.code)&&r.current(e)},a=function(e){n.includes(e.code)&&r.current(e)};return t.keydown&&window.addEventListener("keydown",e),t.keyup&&window.addEventListener("keyup",a),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",a)}}),[r,n,t.keyup,t.keydown])}((function(e){switch(e.code){case"ArrowUp":x();break;case"ArrowDown":S();break;case"ArrowLeft":L();break;case"ArrowRight":A();break;case"Space":N();break;case"Escape":C();break;case"Enter":T()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space","Escape","Enter"]),r.a.createElement("div",{className:h(k.a.board)},r.a.createElement("div",{className:k.a.commands},r.a.createElement("div",{className:k.a.descriptions},r.a.createElement("div",null,"\u2191"),r.a.createElement("div",null,"\u2190\u2193\u2192"),r.a.createElement("div",null,"escape"),r.a.createElement("div",null,"enter"),r.a.createElement("div",null,"space")),r.a.createElement("div",{className:k.a.instructions},r.a.createElement("div",null," Rotate"),r.a.createElement("div",null," Move"),r.a.createElement("div",null," Play/Pause game"),r.a.createElement("div",null," Restart game"),r.a.createElement("div",null," Cheat"))),r.a.createElement("div",{className:k.a.game},t===l.paused?"Paused":t===l.gameover?"Game Over":"Playing",r.a.createElement("div",{className:h(k.a.lines)},o.map((function(e,n){return r.a.createElement("div",{key:n,className:h(k.a.blockLine)},e.map((function(e,a){var o=t===l.gameover?4:e||g(q,d,O,a,n);return r.a.createElement(y,{value:o,key:"Cell-".concat(a).concat(n).concat(o)})})))})))),r.a.createElement("div",{className:h(k.a.next)},"Next Block",r.a.createElement("div",{className:h(k.a.lines)},w(1,4).map((function(e){return r.a.createElement("div",{key:e,className:h(k.a.blockLine)},w(1,6).map((function(n){var t=g(I,2,2,n,e);return r.a.createElement(y,{key:n,value:t})})))})))))}var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.5525f608.chunk.js.map