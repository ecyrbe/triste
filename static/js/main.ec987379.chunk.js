(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,t,n){e.exports={game:"board_game__133qm",over:"board_over__ZBIGv",paused:"board_paused__22pYZ",running:"board_running__3HKDn",board:"board_board__5xYAb",border:"board_border__3Hrc3",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",I:"board_I__v5VWo",J:"board_J__333YF",L:"board_L__3tq8V",O:"board_O__1CzkM",S:"board_S__2T1KA",T:"board_T__-Esw_",Z:"board_Z__2VCFE",internSquare:"board_internSquare__3Bn7h",commands:"board_commands__2BLja",descriptions:"board_descriptions__1dhGE",instructions:"board_instructions__E5mVe",scores:"board_scores__2Bjqx",values:"board_values__1lHjc"}},,,,,,,function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),u=(n(13),n(14),n(2)),l=n(7);function i(e,t){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}),[n,t])}var s=[Math.floor(53e3/60),Math.floor(49e3/60),Math.floor(750),Math.floor(41e3/60),Math.floor(37e3/60),Math.floor(550),Math.floor(28e3/60),Math.floor(22e3/60),Math.floor(17e3/60),Math.floor(11e3/60),Math.floor(1e4/60),Math.floor(150),Math.floor(8e3/60),Math.floor(7e3/60),Math.floor(100),Math.floor(100),Math.floor(5e3/60),Math.floor(5e3/60),Math.floor(4e3/60),Math.floor(4e3/60),Math.floor(50),Math.floor(2e3/60),Math.floor(1e3/60)],d=[0,40,100,300,1200];function f(){var e=Object(a.useState)(0),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(0),c=Object(u.a)(o,2),l=c[0],i=c[1],f=Object(a.useState)(0),m=Object(u.a)(f,2),v=m[0],b=m[1],_=Object(a.useState)(s[0]),h=Object(u.a)(_,2),g=h[0],E=h[1],p=Object(a.useCallback)((function(e){var t=n+e,a=Math.floor(t/10),o=s[a];r(t),b(a),E(o),i((function(t){return t+(a+1)*d[e]}))}),[n]);return{lines:n,score:l,level:v,rate:g,updateScore:p}}var m,v=["I","J","L","O","S","T","Z"],b={I:[[[0,0,0,0],[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]],[[0,0,0,0],[0,0,0,0],[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]]],J:[[[2,0,0],[2,2,2]],[[0,2,2],[0,2,0],[0,2,0]],[[0,0,0],[2,2,2],[0,0,2]],[[0,2],[0,2],[2,2]]],L:[[[0,0,3],[3,3,3]],[[0,3,0],[0,3,0],[0,3,3]],[[0,0,0],[3,3,3],[3,0,0]],[[3,3],[0,3],[0,3]]],O:[[[0,4,4],[0,4,4]]],S:[[[0,5,5],[5,5,0]],[[0,5,0],[0,5,5],[0,0,5]],[[0,0,0],[0,5,5],[5,5,0]],[[5,0],[5,5],[0,5]]],T:[[[0,6,0],[6,6,6]],[[0,6,0],[0,6,6],[0,6,0]],[[0,0,0],[6,6,6],[0,6,0]],[[0,6],[6,6],[0,6]]],Z:[[[7,7,0],[0,7,7]],[[0,0,7],[0,7,7],[0,7,0]],[[0,0,0],[7,7,0],[0,7,7]],[[0,7],[7,7],[7,0]]]},_={I:{x:3,y:-2},J:{x:4,y:-2},L:{x:4,y:-2},O:{x:3,y:-2},S:{x:4,y:-2},T:{x:4,y:-2},Z:{x:4,y:-2}};function h(e,t){return new Array(t).fill(new Array(e)).map((function(e){return e.fill(0)}))}function g(){return v[Math.floor(Math.random()*Math.floor(v.length))]}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b[e][t]}function p(e,t,n,a,r){return a>=t&&a<t+e[0].length&&r>=n&&r<n+e.length?e[r-n][a-t]:0}function O(e,t,n,a){return t.some((function(t,r){return t.some((function(t,o){return t>0&&a+r>=0&&(void 0===e[a+r]||void 0===e[a+r][n+o]||e[a+r][n+o]>0)}))}))}function j(e,t,n,a){return e.map((function(e,r){return e.map((function(e,o){return e+p(t,n,a,o,r)}))}))}function w(e){var t=e.length,n=e.filter((function(e){return e.some((function(e){return 0===e}))})),a=t-n.length;return a>0?(n.splice.apply(n,[0,0].concat(Object(l.a)(h(e[0].length,t-n.length)))),{board:n,cleared:a}):{board:e,cleared:a}}!function(e){e[e.running=0]="running",e[e.paused=1]="paused",e[e.gameover=2]="gameover"}(m||(m={}));var k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},M=n(1),S=n.n(M),x=["none","I","J","L","O","S","T","Z"];var L=r.a.memo((function(e){var t=e.value;return r.a.createElement("div",{className:k(S.a.square,S.a[x[t]])},r.a.createElement("div",{className:k(S.a.internSquare,S.a[x[t]])}))}));function N(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=Object(a.useState)(m.paused),r=Object(u.a)(n,2),o=r[0],c=r[1],l=Object(a.useState)((function(){return h(e,t)})),s=Object(u.a)(l,2),d=s[0],v=s[1],E=Object(a.useState)(g),p=Object(u.a)(E,2),k=p[0],y=p[1],M=Object(a.useState)(g),S=Object(u.a)(M,2),x=S[0],L=S[1],N=Object(a.useState)(_[k].x),A=Object(u.a)(N,2),C=A[0],T=A[1],I=Object(a.useState)(_[k].y),q=Object(u.a)(I,2),J=q[0],Z=q[1],B=Object(a.useState)(0),P=Object(u.a)(B,2),R=P[0],Y=P[1],D=Object(a.useState)(-1),V=Object(u.a)(D,2),W=V[0],G=V[1],H=f(),K=H.lines,X=H.level,z=H.score,F=H.rate,U=H.updateScore,$=function(){return c((function(e){return e===m.gameover?e:e===m.paused?m.running:m.paused}))},Q=Object(a.useCallback)((function(){L((function(e){return Y(0),T(_[e].x),Z(_[e].y),y(e),g()})),v(h(e,t)),c(m.running)}),[e,t]),ee=Object(a.useCallback)((function(){o===m.running&&L((function(e){return Y(0),T(_[e].x),Z(_[e].y),y(e),g()}))}),[o]),te=Object(a.useCallback)((function(){o===m.running&&Y((function(e){var t=(e+1)%b[k].length,n=b[k][t];return O(d,n,C,J)?e:t}))}),[o,d,k,C,J]),ne=Object(a.useCallback)((function(){o===m.running&&T((function(e){return O(d,b[k][R],e-1,J)?e:e-1}))}),[o,d,k,R,J]),ae=Object(a.useCallback)((function(){o===m.running&&T((function(e){return O(d,b[k][R],e+1,J)?e:e+1}))}),[o,d,k,R,J]),re=Object(a.useCallback)((function(){o===m.running&&G(J+1)}),[o,J]);return Object(a.useEffect)((function(){if(W===J+1)if(O(d,b[k][R],C,W)){var e=w(j(d,b[k][R],C,J)),t=e.board,n=e.cleared;t[0].some((function(e){return e>0}))?c(m.gameover):(v(t),n&&U(n),ee())}else Z(W)}),[d,k,R,C,J,W,ee,U]),i((function(){o===m.running&&re()}),F),{lines:K,level:X,score:z,state:o,board:d,currentTetromino:k,nextTetromino:x,posX:C,posY:J,rotation:R,next:ee,rotate:te,left:ne,right:ae,down:re,togglePause:$,reset:Q}}(e.width,e.height),n=t.state,o=t.board,c=t.lines,l=t.level,s=t.score,d=t.currentTetromino,v=t.nextTetromino,M=t.posX,x=t.posY,N=t.rotation,A=t.rotate,C=t.down,T=t.left,I=t.right,q=t.next,J=t.togglePause,Z=t.reset,B=Object(a.useMemo)((function(){return E(v)}),[v]),P=Object(a.useMemo)((function(){return E(d,N)}),[d,N]);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},r=Object(a.useRef)(e);Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){var e=function(e){t.includes(e.code)&&r.current(e)},a=function(e){t.includes(e.code)&&r.current(e)};return n.keydown&&window.addEventListener("keydown",e),n.keyup&&window.addEventListener("keyup",a),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",a)}}),[r,t,n.keyup,n.keydown])}((function(e){switch(e.code){case"ArrowUp":A();break;case"ArrowDown":C();break;case"ArrowLeft":T();break;case"ArrowRight":I();break;case"Space":q();break;case"Escape":J();break;case"Enter":Z()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space","Escape","Enter"]),r.a.createElement("div",{className:k(S.a.board)},r.a.createElement("div",{className:S.a.commands},r.a.createElement("div",{className:S.a.descriptions},r.a.createElement("div",null,"\u2191"),r.a.createElement("div",null,"\u2190\u2193\u2192"),r.a.createElement("div",null,"escape"),r.a.createElement("div",null,"enter"),r.a.createElement("div",null,"space")),r.a.createElement("div",{className:S.a.instructions},r.a.createElement("div",null," Rotate"),r.a.createElement("div",null," Move"),r.a.createElement("div",null," Play/Pause game"),r.a.createElement("div",null," Restart game"),r.a.createElement("div",null," Cheat"))),r.a.createElement("div",{className:k(S.a.game,n===m.paused?S.a.paused:n===m.gameover?S.a.over:S.a.running)},n===m.paused?"Paused":n===m.gameover?"Game Over":"Playing",r.a.createElement("div",{className:k(S.a.lines,S.a.border)},o.map((function(e,t){return r.a.createElement("div",{key:t,className:k(S.a.blockLine)},e.map((function(e,a){var o=n===m.gameover?1:e||p(P,M,x,a,t);return r.a.createElement(L,{value:o,key:"Cell-".concat(a).concat(t).concat(o)})})))})))),r.a.createElement("div",{className:k(S.a.next)},r.a.createElement("div",{className:S.a.descriptions},"Stats"),r.a.createElement("div",{className:k(S.a.scores,S.a.border)},r.a.createElement("div",{className:S.a.descriptions},r.a.createElement("div",null,"Lines:"),r.a.createElement("div",null,"Level:"),r.a.createElement("div",null,"Score:")),r.a.createElement("div",{className:S.a.values},r.a.createElement("div",null,c),r.a.createElement("div",null,l),r.a.createElement("div",null,s))),r.a.createElement("div",{className:S.a.descriptions},"Next"),r.a.createElement("div",{className:k(S.a.lines,S.a.border)},y(1,4).map((function(e){return r.a.createElement("div",{key:e,className:k(S.a.blockLine)},y(1,6).map((function(t){var n=p(B,2,2,t,e);return r.a.createElement(L,{key:t,value:n})})))})))))}var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(N,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.ec987379.chunk.js.map