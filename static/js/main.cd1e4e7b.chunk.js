(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,n,t){e.exports={board:"board_board__5xYAb",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",I:"board_I__v5VWo",J:"board_J__333YF",L:"board_L__3tq8V",O:"board_O__1CzkM",S:"board_S__2T1KA",T:"board_T__-Esw_",Z:"board_Z__2VCFE",internSquare:"board_internSquare__3Bn7h"}},,,,,,,,function(e,n,t){e.exports=t(16)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(7),c=t.n(o),u=(t(14),t(15),t(2)),i=t(5),l=t(8),s=t.n(l),f=["I","J","L","O","S","T","Z"],d={I:[[1,1,1,1]],J:[[2,0,0],[2,2,2]],L:[[0,0,3],[3,3,3]],O:[[4,4],[4,4]],S:[[0,5,5],[5,5,0]],T:[[0,6,0],[6,6,6]],Z:[[7,7,0],[0,7,7]]},b={I:{x:3,y:-1},J:{x:3,y:-1},L:{x:3,y:-1},O:{x:4,y:-1},S:{x:3,y:-1},T:{x:3,y:-1},Z:{x:3,y:-1}};function m(e,n){return new Array(n).fill(new Array(e)).map((function(e){return e.fill(0)}))}function v(){return f[Math.floor(Math.random()*Math.floor(f.length))]}function h(e,n,t,r,a){return r>=n&&r<n+e[0].length&&a>=t&&a<t+e.length?e[a-t][r-n]:0}function _(e,n,t,r){return t<0||n.some((function(n,a){return r+a>=e.length||n.some((function(n,o){return n>0&&(!(t+o<e[0].length)||r+a>=0&&e[r+a][t+o]+n>n)}))}))}function w(e,n,t,r){var a=e.length,o=e.map((function(e,a){return e.map((function(e,o){return e+h(n,t,r,o,a)}))})).filter((function(e){return e.some((function(e){return 0===e}))}));return o.splice.apply(o,[0,0].concat(Object(i.a)(m(e[0].length,a-o.length)))),o}var k=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.join(" ")},p=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n-e+1;return Array.from({length:t},(function(n,t){return e+t}))},O=t(1),y=t.n(O),j=["none","I","J","L","O","S","T","Z"];var g=a.a.memo((function(e){var n=e.value;return a.a.createElement("div",{className:k(y.a.square,y.a[j[n]])},a.a.createElement("div",{className:k(y.a.internSquare,y.a[j[n]])}))}));function E(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=Object(r.useState)((function(){return m(e,n)})),a=Object(u.a)(t,2),o=a[0],c=a[1],l=Object(r.useState)(v),f=Object(u.a)(l,2),k=f[0],p=f[1],O=Object(r.useState)(v),y=Object(u.a)(O,2),j=y[0],g=y[1],E=Object(r.useState)(b[k].x),x=Object(u.a)(E,2),S=x[0],L=x[1],A=Object(r.useState)(b[k].y),C=Object(u.a)(A,2),I=C[0],N=C[1],T=Object(r.useState)(d[k]),J=Object(u.a)(T,2),q=J[0],M=J[1],Z=Object(r.useCallback)((function(e,n){return h(q,S,I,e,n)}),[S,I,q]),B=Object(r.useCallback)((function(){M(d[j]),L(b[j].x),N(b[j].y),p(j),g(v())}),[j]),R=Object(r.useCallback)((function(){var e=s.a.apply(void 0,Object(i.a)(q)).reverse();_(o,e,S,I)||M(e)}),[o,q,S,I]),W=Object(r.useCallback)((function(){return L((function(e){return _(o,q,e-1,I)?e:e-1}))}),[o,q,I]),D=Object(r.useCallback)((function(){return L((function(e){return _(o,q,e+1,I)?e:e+1}))}),[o,q,I]),V=Object(r.useCallback)((function(){return N((function(e){return _(o,q,S,e+1)?(c((function(n){return w(n,q,S,e)})),B(),e):e+1}))}),[o,q,S,B]);return{board:o,currentTetromino:k,nextTetromino:j,isInCurrentShape:Z,next:B,rotate:R,left:W,right:D,down:V}}(e.width,e.height),t=n.board,o=n.nextTetromino,c=n.isInCurrentShape,l=n.rotate,f=n.down,O=n.left,j=n.right,E=n.next,x=Object(r.useMemo)((function(){return d[o]}),[o]);return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},a=Object(r.useRef)(e);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=function(e){n.includes(e.code)&&a.current(e)},r=function(e){n.includes(e.code)&&a.current(e)};return t.keydown&&window.addEventListener("keydown",e),t.keyup&&window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[a,n,t.keyup,t.keydown])}((function(e){switch(e.code){case"ArrowUp":l();break;case"ArrowDown":f();break;case"ArrowLeft":O();break;case"ArrowRight":j();break;case"Space":E()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"]),function(e,n){var t=Object(r.useRef)(e);Object(r.useEffect)((function(){t.current=e}),[e]),Object(r.useEffect)((function(){var e=setInterval((function(){return t.current()}),n);return function(){return clearInterval(e)}}),[t,n])}(f,1e3),a.a.createElement("div",{className:k(y.a.board)},a.a.createElement("div",{className:k(y.a.lines)},t.map((function(e,n){return a.a.createElement("div",{key:n,className:k(y.a.blockLine)},e.map((function(e,t){return a.a.createElement(g,{value:e||c(t,n)})})))}))),a.a.createElement("div",{className:k(y.a.next)},"Next Block",a.a.createElement("div",{className:k(y.a.lines)},p(1,4).map((function(e){return a.a.createElement("div",{key:e,className:k(y.a.blockLine)},p(1,6).map((function(n){return a.a.createElement(g,{value:h(x,2,2,n,e)})})))})))))}var x=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(E,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.cd1e4e7b.chunk.js.map