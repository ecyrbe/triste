(this.webpackJsonptriste=this.webpackJsonptriste||[]).push([[0],[,function(e,n,t){e.exports={board:"board_board__5xYAb",lines:"board_lines__K2aWm",blockLine:"board_blockLine__2Shsx",next:"board_next__zhgk4",square:"board_square__19hXC",none:"board_none__25BgY",I:"board_I__v5VWo",J:"board_J__333YF",L:"board_L__3tq8V",O:"board_O__1CzkM",S:"board_S__2T1KA",T:"board_T__-Esw_",Z:"board_Z__2VCFE",internSquare:"board_internSquare__3Bn7h"}},,,,,,,function(e,n,t){e.exports=t(15)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),u=(t(13),t(14),t(2)),i=t(7),l=["I","J","L","O","S","T","Z"],s={I:[[[1,1,1,1]],[[0,1],[0,1],[0,1],[0,1]],[[1,1,1,1]],[[0,0,1],[0,0,1],[0,0,1],[0,0,1]]],J:[[[2,0,0],[2,2,2]],[[0,2],[0,2],[2,2]],[[2,2,2],[0,0,2]],[[2,2],[2,0],[2,0]]],L:[[[0,0,3],[3,3,3]],[[3,3],[0,3],[0,3]],[[3,3,3],[3,0,0]],[[3,0],[3,0],[3,3]]],O:[[[4,4],[4,4]]],S:[[[0,5,5],[5,5,0]],[[5,0],[5,5],[0,5]]],T:[[[0,6,0],[6,6,6]],[[0,6],[6,6],[0,6]],[[6,6,6],[0,6,0]],[[0,6,0],[0,6,6],[0,6,0]]],Z:[[[7,7,0],[0,7,7]],[[0,7],[7,7],[7,0]]]},f={I:{x:3,y:-1},J:{x:4,y:-1},L:{x:4,y:-1},O:{x:4,y:-1},S:{x:4,y:-1},T:{x:4,y:-1},Z:{x:4,y:-1}};function d(e,n){return new Array(n).fill(new Array(e)).map((function(e){return e.fill(0)}))}function b(){return l[Math.floor(Math.random()*Math.floor(l.length))]}function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return s[e][n]}function v(e,n,t,r,a){return r>=n&&r<n+e[0].length&&a>=t&&a<t+e.length?e[a-t][r-n]:0}function _(e,n,t,r){return n.some((function(n,a){return n.some((function(n,o){return n>0&&r+a>=0&&(void 0===e[r+a]||void 0===e[r+a][t+o]||e[r+a][t+o]>0)}))}))}function h(e,n,t,r){var a=e.length,o=e.map((function(e,a){return e.map((function(e,o){return e+v(n,t,r,o,a)}))})).filter((function(e){return e.some((function(e){return 0===e}))}));return o.splice.apply(o,[0,0].concat(Object(i.a)(d(e[0].length,a-o.length)))),o}var w=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.join(" ")},k=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n-e+1;return Array.from({length:t},(function(n,t){return e+t}))},p=t(1),O=t.n(p),y=["none","I","J","L","O","S","T","Z"];var g=a.a.memo((function(e){var n=e.value;return a.a.createElement("div",{className:w(O.a.square,O.a[y[n]])},a.a.createElement("div",{className:w(O.a.internSquare,O.a[y[n]])}))}));function j(e){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=Object(r.useState)((function(){return d(e,n)})),a=Object(u.a)(t,2),o=a[0],c=a[1],i=Object(r.useState)(b),l=Object(u.a)(i,2),m=l[0],v=l[1],w=Object(r.useState)(b),k=Object(u.a)(w,2),p=k[0],O=k[1],y=Object(r.useState)(f[m].x),g=Object(u.a)(y,2),j=g[0],E=g[1],x=Object(r.useState)(f[m].y),S=Object(u.a)(x,2),L=S[0],A=S[1],T=Object(r.useState)(0),N=Object(u.a)(T,2),C=N[0],I=N[1],J=Object(r.useCallback)((function(){I(0),E(f[p].x),A(f[p].y),v(p),O(b())}),[p]),q=Object(r.useCallback)((function(){I((function(e){var n=(e+1)%s[m].length,t=s[m][n];return _(o,t,j,L)?e:n}))}),[o,m,j,L]),M=Object(r.useCallback)((function(){return E((function(e){return _(o,s[m][C],e-1,L)?e:e-1}))}),[o,m,C,L]),Z=Object(r.useCallback)((function(){return E((function(e){return _(o,s[m][C],e+1,L)?e:e+1}))}),[o,m,C,L]),B=Object(r.useCallback)((function(){return A((function(e){return _(o,s[m][C],j,e+1)?(c((function(n){return h(n,s[m][C],j,e)})),J(),e):e+1}))}),[o,m,C,j,J]);return{board:o,currentTetromino:m,nextTetromino:p,posX:j,posY:L,rotation:C,next:J,rotate:q,left:M,right:Z,down:B}}(e.width,e.height),t=n.board,o=n.currentTetromino,c=n.nextTetromino,i=n.posX,l=n.posY,p=n.rotation,y=n.rotate,j=n.down,E=n.left,x=n.right,S=n.next,L=Object(r.useMemo)((function(){return m(c)}),[c]),A=Object(r.useMemo)((function(){return m(o,p)}),[o,p]);return function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{keydown:!0,keyup:!1},a=Object(r.useRef)(e);Object(r.useEffect)((function(){a.current=e}),[e]),Object(r.useEffect)((function(){var e=function(e){n.includes(e.code)&&a.current(e)},r=function(e){n.includes(e.code)&&a.current(e)};return t.keydown&&window.addEventListener("keydown",e),t.keyup&&window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",r)}}),[a,n,t.keyup,t.keydown])}((function(e){switch(e.code){case"ArrowUp":y();break;case"ArrowDown":j();break;case"ArrowLeft":E();break;case"ArrowRight":x();break;case"Space":S()}e.preventDefault()}),["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Space"]),function(e,n){var t=Object(r.useRef)(e);Object(r.useEffect)((function(){t.current=e}),[e]),Object(r.useEffect)((function(){var e=setInterval((function(){return t.current()}),n);return function(){return clearInterval(e)}}),[t,n])}(j,1e3),a.a.createElement("div",{className:w(O.a.board)},a.a.createElement("div",{className:w(O.a.lines)},t.map((function(e,n){return a.a.createElement("div",{key:n,className:w(O.a.blockLine)},e.map((function(e,t){var r=e||v(A,i,l,t,n);return a.a.createElement(g,{value:r,key:"Cell-".concat(t).concat(n).concat(r)})})))}))),a.a.createElement("div",{className:w(O.a.next)},"Next Block",a.a.createElement("div",{className:w(O.a.lines)},k(1,4).map((function(e){return a.a.createElement("div",{key:e,className:w(O.a.blockLine)},k(1,6).map((function(n){var t=v(L,2,2,n,e);return a.a.createElement(g,{key:n,value:t})})))})))))}var E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(j,{width:10,height:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.4a741a16.chunk.js.map